{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tom\\\\Desktop\\\\university\\\\thirdYear\\\\semester6\\\\Operating systems\\\\TradingSystem\\\\Client\\\\src\\\\components\\\\ShoppingCart.js\",\n    _s = $RefreshSig$();\n\n// import React, { Component } from 'react';\n// import \"./Login.css\";\n// import Link from '@mui/material/Button';\n// import HomeIcon from '@mui/icons-material/Home';\n// import { ConnectApi } from '../API/ConnectApi';\n// import { CartApi } from '../API/CartApi';\n// import Register from \"./Register.js\";\n// import List from '@mui/material/List';\n// import ListItem from '@mui/material/ListItem';\n// import ListItemText from '@mui/material/ListItemText';\n// import ListSubheader from '@mui/material/ListSubheader';\n// import { DataGrid, GridColDef, GridValueGetterParams } from '@mui/x-data-grid';\n// import { StoreApi } from '../API/StoreApi';\n// import {Store} from '../ServiceObjects/Store'\n// const axios = require('axios');\n// const EMPLOYEE_BASE_REST_API_URL = \"http://localhost:8080/amit\";\n// export default class ShoppingCart{\n//     static displayName = ShoppingCart.name;\n//     constructor(props) {\n//         super(props);\n//         this.state = { \n//             columns : [\n//                 { field: 'id', headerName: 'ID', width: 70 },\n//                 { field: 'name', headerName: 'name', width: 130 },\n//                 { field: 'category', headerName: 'category', width: 130 },\n//                 { field: 'price', headerName: 'price', type: 'number', width: 90,},\n//                 { field: 'quantity', headerName: 'quantity', type: 'number', width: 90,},\n//                 { field: 'store', headerName: 'store', type: 'Store', width: 90,},\n//             ],\n//               rows : [\n//                 { id: 1, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 2, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 3, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 4, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 5, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 6, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 7, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//                 { id: 8, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\n//               ],\n//             payment:undefined,\n//             supply:undefined,\n//             selection:[]\n//         };\n//     }\n//     async componentDidMount() {\n//     }\n//     async buy_cart(){\n//         let payment = this.state.payment;\n//         let supply = this.state.supply;\n//         console.log(\"payment is \"+payment+\" , supply is \"+supply+\"\\n\");\n//         let response = await CartApi.buy_cart(payment, supply);\n//         alert(response.message);\n//     }\n//     async view_cart(){\n//         let response = await CartApi.view_cart();\n//         this.products = response.value;\n//     }\n//     remove_product(select){\n//         console.log(\"hi bye removed\");\n//     }\n//     render() {\n//         const [select, setSelection] = React.useState([]);\n//             return (\n//                 <main class=\"CartMain\">\n//                     <div class=\"ProductsWindow\" style={{ height: 400, width: '100%' }}>\n//                     <DataGrid rows={this.state.rows} columns={this.state.columns} checkboxSelection\n//                      onSelectionChange={(newSelection) => {\n//                         setSelection(newSelection.rows);\n//                       }}/>\n//                     <Button onClick={this.remove_products(select)}>remove selected products</Button>\n//                     </div>\n//                 </main>\n//             );\n//     }\n// }\nimport * as React from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport Button from '@mui/material/Button';\nimport { Product } from '../ServiceObjects/Product';\nimport { CartApi } from '../API/CartApi';\nimport { ProductApi } from '../API/ProductApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst prods = [Product.create(10, 'snow', \"a\", 1, 10, \"bb\"), Product.create(21, 'snow', \"a\", 1, 10, \"bb\")];\nconst columns = [{\n  field: 'id',\n  headerName: 'ID',\n  width: 70\n}, {\n  field: 'name',\n  headerName: 'name',\n  width: 130\n}, {\n  field: 'category',\n  headerName: 'category',\n  width: 130\n}, {\n  field: 'price',\n  headerName: 'price',\n  type: 'number',\n  width: 90\n}, {\n  field: 'quantity',\n  headerName: 'quantity',\n  type: 'number',\n  width: 90\n}, {\n  field: 'store',\n  headerName: 'store',\n  width: 90\n}];\n\nconst make_rows = res => {\n  let ret = [];\n  let i = 0;\n  res.map(p => {\n    i++;\n    ret.push({\n      idx: i,\n      id: p.product_id,\n      name: p.name,\n      category: p.category,\n      price: p.price,\n      quantity: 1000,\n      store: 1\n    });\n  });\n  return ret;\n};\n\nconst remove_product_from_cart = (product_id, store_id) => {\n  return ProductApi.remove_product_from_cart(store_id, product_id);\n};\n\nexport default function ShoppingCart(data) {\n  _s();\n\n  const [items, setItems] = React.useState(make_rows(data.prods));\n  const [selectionModel, setSelectionModel] = React.useState([]);\n\n  const remove_products = () => {\n    setItems(items.filter(i => !selectionModel.some(s => s === i.id)));\n    setSelectionModel([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: remove_products,\n        children: \"hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ShoppingCart, \"2V8tRM25TTTYDJ3MVsZDBanMGQ8=\");\n\n_c = ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"names":["React","DataGrid","Button","Product","CartApi","ProductApi","prods","create","columns","field","headerName","width","type","make_rows","res","ret","i","map","p","push","idx","id","product_id","name","category","price","quantity","store","remove_product_from_cart","store_id","ShoppingCart","data","items","setItems","useState","selectionModel","setSelectionModel","remove_products","filter","some","s"],"sources":["C:/Users/Tom/Desktop/university/thirdYear/semester6/Operating systems/TradingSystem/Client/src/components/ShoppingCart.js"],"sourcesContent":["// import React, { Component } from 'react';\r\n// import \"./Login.css\";\r\n// import Link from '@mui/material/Button';\r\n// import HomeIcon from '@mui/icons-material/Home';\r\n// import { ConnectApi } from '../API/ConnectApi';\r\n// import { CartApi } from '../API/CartApi';\r\n// import Register from \"./Register.js\";\r\n// import List from '@mui/material/List';\r\n// import ListItem from '@mui/material/ListItem';\r\n// import ListItemText from '@mui/material/ListItemText';\r\n// import ListSubheader from '@mui/material/ListSubheader';\r\n// import { DataGrid, GridColDef, GridValueGetterParams } from '@mui/x-data-grid';\r\n// import { StoreApi } from '../API/StoreApi';\r\n// import {Store} from '../ServiceObjects/Store'\r\n\r\n\r\n// const axios = require('axios');\r\n// const EMPLOYEE_BASE_REST_API_URL = \"http://localhost:8080/amit\";\r\n\r\n// export default class ShoppingCart{\r\n//     static displayName = ShoppingCart.name;\r\n\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = { \r\n//             columns : [\r\n//                 { field: 'id', headerName: 'ID', width: 70 },\r\n//                 { field: 'name', headerName: 'name', width: 130 },\r\n//                 { field: 'category', headerName: 'category', width: 130 },\r\n//                 { field: 'price', headerName: 'price', type: 'number', width: 90,},\r\n//                 { field: 'quantity', headerName: 'quantity', type: 'number', width: 90,},\r\n//                 { field: 'store', headerName: 'store', type: 'Store', width: 90,},\r\n//             ],\r\n//               rows : [\r\n//                 { id: 1, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 2, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 3, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 4, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 5, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 6, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 7, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//                 { id: 8, name: 'Snow', category: \"a\", price: 1, quantity:10, store:\"bb\"},\r\n//               ],\r\n//             payment:undefined,\r\n//             supply:undefined,\r\n//             selection:[]\r\n//         };\r\n        \r\n//     }\r\n    \r\n//     async componentDidMount() {\r\n//     }\r\n\r\n\r\n//     async buy_cart(){\r\n//         let payment = this.state.payment;\r\n//         let supply = this.state.supply;\r\n//         console.log(\"payment is \"+payment+\" , supply is \"+supply+\"\\n\");\r\n//         let response = await CartApi.buy_cart(payment, supply);\r\n//         alert(response.message);\r\n//     }\r\n\r\n//     async view_cart(){\r\n//         let response = await CartApi.view_cart();\r\n//         this.products = response.value;\r\n//     }\r\n\r\n//     remove_product(select){\r\n//         console.log(\"hi bye removed\");\r\n//     }\r\n\r\n//     render() {\r\n//         const [select, setSelection] = React.useState([]);\r\n//             return (\r\n//                 <main class=\"CartMain\">\r\n//                     <div class=\"ProductsWindow\" style={{ height: 400, width: '100%' }}>\r\n//                     <DataGrid rows={this.state.rows} columns={this.state.columns} checkboxSelection\r\n//                      onSelectionChange={(newSelection) => {\r\n//                         setSelection(newSelection.rows);\r\n//                       }}/>\r\n//                     <Button onClick={this.remove_products(select)}>remove selected products</Button>\r\n//                     </div>\r\n//                 </main>\r\n//             );\r\n//     }\r\n// }\r\nimport * as React from 'react';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport Button from '@mui/material/Button';\r\nimport {Product} from '../ServiceObjects/Product';\r\nimport { CartApi } from '../API/CartApi';\r\nimport { ProductApi } from '../API/ProductApi';\r\n\r\nconst prods = [Product.create(10,'snow',\"a\",1,10,\"bb\"),Product.create(21,'snow',\"a\",1,10,\"bb\")];\r\nconst columns = [\r\n  { field: 'id', headerName: 'ID', width: 70 },\r\n  { field: 'name', headerName: 'name', width: 130 },\r\n  { field: 'category', headerName: 'category', width: 130 },\r\n  { field: 'price', headerName: 'price', type: 'number', width: 90,},\r\n  { field: 'quantity', headerName: 'quantity', type: 'number', width: 90,},\r\n  { field: 'store', headerName: 'store', width: 90,},];\r\n  const make_rows = (res) => {\r\n    let ret = []\r\n    let i = 0;\r\n    res.map(p=>{i++;ret.push({idx:i,id:p.product_id,name:p.name,category:p.category,price:p.price,quantity:1000,store:1})});\r\n    return ret;\r\n  }\r\n\r\n  const remove_product_from_cart = (product_id,store_id) =>{\r\n    return ProductApi.remove_product_from_cart(store_id,product_id);\r\n  }\r\n  \r\n  export default function ShoppingCart(data) {\r\n  const [items, setItems] = React.useState(make_rows(data.prods));\r\n  const [selectionModel, setSelectionModel] = React.useState([]);\r\n  const remove_products = () => {\r\n    setItems(items.filter(i=> !selectionModel.some(s=> s === i.id)))\r\n    setSelectionModel([]);\r\n  }\r\n  return (\r\n      <main>\r\n    {/* <div style={{ height: 400, width: '100%' }}>\r\n                          <DataGrid rows={items} columns={columns}         \r\n                          checkboxSelection\r\n                            onSelectionModelChange={(newSelectionModel) => {\r\n                            setSelectionModel(newSelectionModel);}}\r\n        selectionModel={selectionModel}/>\r\n    </div> */}\r\n    <div><Button variant=\"contained\" onClick={remove_products}>hello</Button></div>\r\n    </main>\r\n  );\r\n                            }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}